<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
    <link rel="stylesheet" href="/signup.css" />
  </head>
  <body>
    <header><a href="/" class="home-link">Manolyx Club</a></header>
    <main>
      <div class="signup-form">
        <div class="formHead">
          <h1>Create your account</h1>
          <p>Already have an account? <a href="/users/login">Sign In</a></p>
        </div>
        <form action="/users/signup" method="post">
          <%- include('../partials/errors') %>
          <section>
            <label for="email">Email</label>
            <input
              id="email"
              name="username"
              type="email"
              value="<%= formData.username %>"
              required
              autofocus
            />
          </section>
          <section>
            <label for="firstname">First name</label>
            <input
              id="firstname"
              name="firstname"
              type="text"
              value="<%= formData.firstname %>"
              required
            />
          </section>
          <section>
            <label for="lastname">Last name</label>
            <input
              id="lastname"
              name="lastname"
              type="text"
              value="<%= formData.lastname %>"
              required
            />
          </section>
          <section>
            <label for="password">Password</label>
            <input
              id="password"
              name="password"
              type="password"
              value="<%= formData.password %>"
              required
            />
            <button class="togglePwdView" type="button">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <title>Show password</title>
                <path
                  d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"
                />
              </svg>
            </button>
          </section>
          <section>
            <label for="password_confirmation">Confirm password</label>
            <input
              id="password_confirmation"
              name="password_confirmation"
              type="password"
              value="<%= formData.password_confirmation %>"
              required
            />
          </section>

          <button type="submit">Create account</button>
        </form>
      </div>
    </main>
    <%- include('../partials/footer') %>
    <script>
      const button = document.querySelector('.togglePwdView');
      const password = document.getElementById('password');
      const confirmation = document.getElementById('password_confirmation');
      button.addEventListener('click', () => {
        password.type = password.type === 'password' ? 'text' : 'password';
        confirmation.type = password.type;
      });
    </script>
  </body>
</html>
